import{_ as V,r as S,i as E,c as h,o as b,b as e,w as t,d,k as q,B as R,E as j,e as F,l as H,m as I,q as P,s as T,h as o,t as n,f as D}from"./app-CQIcOIsZ.js";const Y={style:{display:"flex","justify-content":"space-between","align-items":"center"}},z={__name:"Detail",setup(A){const w=R(),x=F(),m=S(!1),l=S(null),B=async()=>{var u,a;m.value=!0;try{const r=await q.get(`/pkg-products/${w.params.id}`);l.value=r.data.data}catch(r){const s=((a=(u=r.response)==null?void 0:u.data)==null?void 0:a.message)||r.message||"获取产品详情失败";j.error(s),console.error("获取产品详情失败:",r)}finally{m.value=!1}},$=u=>{if(!u)return"";const a=new Date(u),r=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),f=String(a.getDate()).padStart(2,"0"),v=String(a.getHours()).padStart(2,"0"),p=String(a.getMinutes()).padStart(2,"0");return`${r}-${s}-${f} ${v}:${p}`},M=()=>{x.push("/pkg-products")};return E(()=>{B()}),(u,a)=>{const r=d("el-button"),s=d("el-descriptions-item"),f=d("el-tag"),v=d("el-descriptions"),p=d("el-divider"),_=d("el-table-column"),g=d("el-table"),C=d("el-card"),N=H("loading");return b(),h("div",null,[e(C,null,{header:t(()=>[D("div",Y,[a[1]||(a[1]=D("h2",null,"打包产品详情",-1)),e(r,{onClick:M},{default:t(()=>[...a[0]||(a[0]=[o("返回列表",-1)])]),_:1})])]),default:t(()=>{var y,k;return[I((b(),h("div",null,[l.value?(b(),P(v,{key:0,column:2,border:""},{default:t(()=>[e(s,{label:"产品名称"},{default:t(()=>[o(n(l.value.product_name),1)]),_:1}),e(s,{label:"产品编码"},{default:t(()=>[o(n(l.value.product_code),1)]),_:1}),e(s,{label:"所属景区"},{default:t(()=>{var c;return[o(n(((c=l.value.scenic_spot)==null?void 0:c.name)||"-"),1)]}),_:1}),e(s,{label:"入住天数"},{default:t(()=>[o(n(l.value.stay_days||1),1)]),_:1}),e(s,{label:"状态"},{default:t(()=>[e(f,{type:l.value.status===1?"success":"danger"},{default:t(()=>[o(n(l.value.status===1?"启用":"禁用"),1)]),_:1},8,["type"])]),_:1}),e(s,{label:"销售开始日期"},{default:t(()=>[o(n(l.value.sale_start_date||"不限制"),1)]),_:1}),e(s,{label:"销售结束日期"},{default:t(()=>[o(n(l.value.sale_end_date||"不限制"),1)]),_:1}),e(s,{label:"创建时间"},{default:t(()=>[o(n($(l.value.created_at)),1)]),_:1}),e(s,{label:"描述",span:2},{default:t(()=>[o(n(l.value.description||"-"),1)]),_:1})]),_:1})):T("",!0),e(p,null,{default:t(()=>[...a[2]||(a[2]=[o("关联门票",-1)])]),_:1}),e(g,{data:((y=l.value)==null?void 0:y.bundle_items)||[],border:"",style:{"margin-bottom":"20px"}},{default:t(()=>[e(_,{prop:"ticket.name",label:"门票名称"}),e(_,{prop:"ticket.code",label:"门票编码"}),e(_,{prop:"quantity",label:"数量",width:"100"})]),_:1},8,["data"]),e(p,null,{default:t(()=>[...a[3]||(a[3]=[o("关联酒店房型",-1)])]),_:1}),e(g,{data:((k=l.value)==null?void 0:k.hotel_room_types)||[],border:""},{default:t(()=>[e(_,{label:"酒店名称"},{default:t(({row:c})=>{var i;return[o(n(((i=c.hotel)==null?void 0:i.name)||"-"),1)]}),_:1}),e(_,{label:"房型名称"},{default:t(({row:c})=>{var i;return[o(n(((i=c.room_type)==null?void 0:i.name)||"-"),1)]}),_:1})]),_:1},8,["data"])])),[[N,m.value]])]}),_:1})])}}},J=V(z,[["__scopeId","data-v-382200a6"]]);export{J as default};
