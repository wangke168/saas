import{_ as V,r as S,i as E,c as h,o as g,b as e,w as t,d,k as q,B as R,E as j,e as F,l as H,m as I,q as P,s as T,h as o,t as r,f as D}from"./app-CCEVyAWf.js";const Y={style:{display:"flex","justify-content":"space-between","align-items":"center"}},z={__name:"Detail",setup(A){const w=R(),x=F(),m=S(!1),l=S(null),B=async()=>{var u,a;m.value=!0;try{const n=await q.get(`/pkg-products/${w.params.id}`);l.value=n.data.data}catch(n){const s=((a=(u=n.response)==null?void 0:u.data)==null?void 0:a.message)||n.message||"获取产品详情失败";j.error(s),console.error("获取产品详情失败:",n)}finally{m.value=!1}},$=u=>{if(!u)return"";const a=new Date(u),n=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),f=String(a.getDate()).padStart(2,"0"),b=String(a.getHours()).padStart(2,"0"),p=String(a.getMinutes()).padStart(2,"0");return`${n}-${s}-${f} ${b}:${p}`},M=()=>{x.push("/pkg-products")};return E(()=>{B()}),(u,a)=>{const n=d("el-button"),s=d("el-descriptions-item"),f=d("el-tag"),b=d("el-descriptions"),p=d("el-divider"),i=d("el-table-column"),v=d("el-table"),C=d("el-card"),N=H("loading");return g(),h("div",null,[e(C,null,{header:t(()=>[D("div",Y,[a[1]||(a[1]=D("h2",null,"打包产品详情",-1)),e(n,{onClick:M},{default:t(()=>[...a[0]||(a[0]=[o("返回列表",-1)])]),_:1})])]),default:t(()=>{var y,k;return[I((g(),h("div",null,[l.value?(g(),P(b,{key:0,column:2,border:""},{default:t(()=>[e(s,{label:"产品名称"},{default:t(()=>[o(r(l.value.product_name),1)]),_:1}),e(s,{label:"产品编码"},{default:t(()=>[o(r(l.value.product_code),1)]),_:1}),e(s,{label:"所属景区"},{default:t(()=>{var c;return[o(r(((c=l.value.scenic_spot)==null?void 0:c.name)||"-"),1)]}),_:1}),e(s,{label:"入住天数"},{default:t(()=>[o(r(l.value.stay_days||1),1)]),_:1}),e(s,{label:"状态"},{default:t(()=>[e(f,{type:l.value.status===1?"success":"danger"},{default:t(()=>[o(r(l.value.status===1?"启用":"禁用"),1)]),_:1},8,["type"])]),_:1}),e(s,{label:"创建时间"},{default:t(()=>[o(r($(l.value.created_at)),1)]),_:1}),e(s,{label:"描述",span:2},{default:t(()=>[o(r(l.value.description||"-"),1)]),_:1})]),_:1})):T("",!0),e(p,null,{default:t(()=>[...a[2]||(a[2]=[o("关联门票",-1)])]),_:1}),e(v,{data:((y=l.value)==null?void 0:y.bundle_items)||[],border:"",style:{"margin-bottom":"20px"}},{default:t(()=>[e(i,{prop:"ticket.name",label:"门票名称"}),e(i,{prop:"ticket.code",label:"门票编码"}),e(i,{prop:"quantity",label:"数量",width:"100"})]),_:1},8,["data"]),e(p,null,{default:t(()=>[...a[3]||(a[3]=[o("关联酒店房型",-1)])]),_:1}),e(v,{data:((k=l.value)==null?void 0:k.hotel_room_types)||[],border:""},{default:t(()=>[e(i,{label:"酒店名称"},{default:t(({row:c})=>{var _;return[o(r(((_=c.hotel)==null?void 0:_.name)||"-"),1)]}),_:1}),e(i,{label:"房型名称"},{default:t(({row:c})=>{var _;return[o(r(((_=c.room_type)==null?void 0:_.name)||"-"),1)]}),_:1})]),_:1},8,["data"])])),[[N,m.value]])]}),_:1})])}}},J=V(z,[["__scopeId","data-v-d8dc6eab"]]);export{J as default};
