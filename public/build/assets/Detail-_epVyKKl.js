import{_ as E,r as D,i as q,c as h,o as b,b as t,w as a,d as u,k as F,x as R,E as Y,e as j,l as H,m as I,q as O,s as P,h as n,t as r,f as $}from"./app-De5uvzDL.js";const T={style:{display:"flex","justify-content":"space-between","align-items":"center"}},z={__name:"Detail",setup(A){const w=R(),x=j(),f=D(!1),o=D(null),M=async()=>{var d,e;f.value=!0;try{const s=await F.get(`/pkg-products/${w.params.id}`);o.value=s.data.data}catch(s){const l=((e=(d=s.response)==null?void 0:d.data)==null?void 0:e.message)||s.message||"获取产品详情失败";Y.error(l),console.error("获取产品详情失败:",s)}finally{f.value=!1}},B=d=>{if(!d)return"";const e=new Date(d),s=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),_=String(e.getDate()).padStart(2,"0"),g=String(e.getHours()).padStart(2,"0"),m=String(e.getMinutes()).padStart(2,"0");return`${s}-${l}-${_} ${g}:${m}`},v=d=>{if(!d)return"";const e=new Date(d),s=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),_=String(e.getDate()).padStart(2,"0");return`${s}-${l}-${_}`},C=()=>{x.push("/pkg-products")};return q(()=>{M()}),(d,e)=>{const s=u("el-button"),l=u("el-descriptions-item"),_=u("el-tag"),g=u("el-descriptions"),m=u("el-divider"),i=u("el-table-column"),y=u("el-table"),N=u("el-card"),V=H("loading");return b(),h("div",null,[t(N,null,{header:a(()=>[$("div",T,[e[1]||(e[1]=$("h2",null,"打包产品详情",-1)),t(s,{onClick:C},{default:a(()=>[...e[0]||(e[0]=[n("返回列表",-1)])]),_:1})])]),default:a(()=>{var S,k;return[I((b(),h("div",null,[o.value?(b(),O(g,{key:0,column:2,border:""},{default:a(()=>[t(l,{label:"产品名称"},{default:a(()=>[n(r(o.value.product_name),1)]),_:1}),t(l,{label:"产品编码"},{default:a(()=>[n(r(o.value.product_code),1)]),_:1}),t(l,{label:"所属景区"},{default:a(()=>{var c;return[n(r(((c=o.value.scenic_spot)==null?void 0:c.name)||"-"),1)]}),_:1}),t(l,{label:"入住天数"},{default:a(()=>[n(r(o.value.stay_days||1),1)]),_:1}),t(l,{label:"状态"},{default:a(()=>[t(_,{type:o.value.status===1?"success":"danger"},{default:a(()=>[n(r(o.value.status===1?"启用":"禁用"),1)]),_:1},8,["type"])]),_:1}),t(l,{label:"销售开始日期"},{default:a(()=>[n(r(v(o.value.sale_start_date)||"不限制"),1)]),_:1}),t(l,{label:"销售结束日期"},{default:a(()=>[n(r(v(o.value.sale_end_date)||"不限制"),1)]),_:1}),t(l,{label:"创建时间"},{default:a(()=>[n(r(B(o.value.created_at)),1)]),_:1}),t(l,{label:"描述",span:2},{default:a(()=>[n(r(o.value.description||"-"),1)]),_:1})]),_:1})):P("",!0),t(m,null,{default:a(()=>[...e[2]||(e[2]=[n("关联门票",-1)])]),_:1}),t(y,{data:((S=o.value)==null?void 0:S.bundle_items)||[],border:"",style:{"margin-bottom":"20px"}},{default:a(()=>[t(i,{prop:"ticket.name",label:"门票名称"}),t(i,{prop:"ticket.code",label:"门票编码"}),t(i,{prop:"quantity",label:"数量",width:"100"})]),_:1},8,["data"]),t(m,null,{default:a(()=>[...e[3]||(e[3]=[n("关联酒店房型",-1)])]),_:1}),t(y,{data:((k=o.value)==null?void 0:k.hotel_room_types)||[],border:""},{default:a(()=>[t(i,{label:"酒店名称"},{default:a(({row:c})=>{var p;return[n(r(((p=c.hotel)==null?void 0:p.name)||"-"),1)]}),_:1}),t(i,{label:"房型名称"},{default:a(({row:c})=>{var p;return[n(r(((p=c.room_type)==null?void 0:p.name)||"-"),1)]}),_:1})]),_:1},8,["data"])])),[[V,f.value]])]}),_:1})])}}},J=E(z,[["__scopeId","data-v-5f55dbd6"]]);export{J as default};
